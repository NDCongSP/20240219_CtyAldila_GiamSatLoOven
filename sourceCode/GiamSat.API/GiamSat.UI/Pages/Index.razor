@page "/"
@attribute [Authorize]

<div Class="rz-p-0 rz-p-md-6">
    @if (_displayRealtime == null)
    {
        <div class="spinner center-div"></div>
    }
    else
    {
        <RadzenRow Gap="1rem" JustifyContent="JustifyContent.Start">
            @foreach (var item in _displayRealtime)
            {
                <RadzenColumn SizeXS=12 SizeSM="3">
                    @if (item.ConnectionStatus == "Kết nối" && item.Alarm == 0)
                    {
                        <RadzenCard Varian="Varian.Filled" class="rz-background-color-info-light rz-shadow-0 rz-border-radius-4 rz-m-0">
                            <RadzenStack Orientation="Orientation.Vertical" Gap="10px">
                                <RadzenText TextStyle="TextStyle.H6" class=""><strong>@item.OvenName</strong></RadzenText>
                                <RadzenRow RowGap="0">
                                    <RadzenColumn SizeXS=12 SizeSM="6">
                                        <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Nhiệt độ (oC)</RadzenText>
                                        <RadzenText TextStyle="TextStyle.DisplayH5" class=""><b>@item.Temperature</b></RadzenText>
                                    </RadzenColumn>
                                    <RadzenColumn SizeXS=12 SizeSM="6">
                                        <RadzenRow RowGap="0">
                                            <RadzenColumn SizeXS=12 SizeSM="6">
                                                <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Cửa lò</RadzenText>
                                                <RadzenText TextStyle="TextStyle.Body1" class=""><b>@item.Door</b></RadzenText>
                                            </RadzenColumn>
                                            <RadzenColumn SizeXS=12 SizeSM="6">
                                                <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Trạng thái</RadzenText>
                                                <RadzenText TextStyle="TextStyle.Body1" class=""><b>@item.Status</b></RadzenText>
                                            </RadzenColumn>
                                        </RadzenRow>
                                    </RadzenColumn>
                                </RadzenRow>

                                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="1rem" Wrap="FlexWrap.Wrap" class="rz-mt-2">
                                    <RadzenButton Click=@(args => OnClick(item.OvenId,item.OvenName)) Variant="Variant.Flat" Shade="Shade.Dark"
                                                  Text="Chi tiết" Icon="info" ButtonStyle="ButtonStyle.Dark" />
                                </RadzenStack>
                            </RadzenStack>
                        </RadzenCard>
                    }
                    else if (item.ConnectionStatus == "Kết nối" && item.Alarm == 1)
                    {
                        <RadzenCard Varian="Varian.Filled" class="rz-background-color-warning-light rz-shadow-0 rz-border-radius-4 rz-m-0">
                            <RadzenStack Orientation="Orientation.Vertical" Gap="10px">
                                <RadzenText TextStyle="TextStyle.H6" class=""><strong>@item.OvenName</strong></RadzenText>
                                <RadzenRow RowGap="0">
                                    <RadzenColumn SizeXS=12 SizeSM="6">
                                        <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Nhiệt độ (oC)</RadzenText>
                                        <RadzenText TextStyle="TextStyle.DisplayH5" class=""><b>@item.Temperature</b></RadzenText>
                                    </RadzenColumn>
                                    <RadzenColumn SizeXS=12 SizeSM="6">
                                        <RadzenRow RowGap="0">
                                            <RadzenColumn SizeXS=12 SizeSM="6">
                                                <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Cửa lò</RadzenText>
                                                <RadzenText TextStyle="TextStyle.Body1" class=""><b>@item.Door</b></RadzenText>
                                            </RadzenColumn>
                                            <RadzenColumn SizeXS=12 SizeSM="6">
                                                <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Trạng thái</RadzenText>
                                                <RadzenText TextStyle="TextStyle.Body1" class=""><b>@item.Status</b></RadzenText>
                                            </RadzenColumn>
                                        </RadzenRow>
                                    </RadzenColumn>
                                </RadzenRow>

                                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="1rem" Wrap="FlexWrap.Wrap" class="rz-mt-2">
                                    <RadzenButton Click=@(args => OnClick(item.OvenId,item.OvenName)) Variant="Variant.Flat" Shade="Shade.Dark"
                                                  Text="Chi tiết" Icon="info" ButtonStyle="ButtonStyle.Dark" />
                                </RadzenStack>
                            </RadzenStack>
                        </RadzenCard>
                    }
                    else if (item.ConnectionStatus != "Kết nối")
                    {
                        <RadzenCard Varian="Varian.Filled" class="rz-background-color-danger-light rz-shadow-0 rz-border-radius-4 rz-m-0">
                            <RadzenStack Orientation="Orientation.Vertical" Gap="10px">
                                <RadzenText TextStyle="TextStyle.H6" class=""><strong>@item.OvenName</strong></RadzenText>
                                <RadzenRow RowGap="0">
                                    <RadzenColumn SizeXS=12 SizeSM="6">
                                        <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Nhiệt độ (oC)</RadzenText>
                                        <RadzenText TextStyle="TextStyle.DisplayH5" class=""><b>@item.Temperature</b></RadzenText>
                                    </RadzenColumn>
                                    <RadzenColumn SizeXS=12 SizeSM="6">
                                        <RadzenRow RowGap="0">
                                            <RadzenColumn SizeXS=12 SizeSM="6">
                                                <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Cửa lò</RadzenText>
                                                <RadzenText TextStyle="TextStyle.Body1" class=""><b>@item.Door</b></RadzenText>
                                            </RadzenColumn>
                                            <RadzenColumn SizeXS=12 SizeSM="6">
                                                <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-0 rz-mb-0">Trạng thái</RadzenText>
                                                <RadzenText TextStyle="TextStyle.Body1" class=""><b>@item.Status</b></RadzenText>
                                            </RadzenColumn>
                                        </RadzenRow>
                                    </RadzenColumn>
                                </RadzenRow>

                                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="1rem" Wrap="FlexWrap.Wrap" class="rz-mt-2">
                                    <RadzenButton Click=@(args => OnClick(item.OvenId,item.OvenName)) Variant="Variant.Flat" Shade="Shade.Dark"
                                                  Text="Chi tiết" Icon="info" ButtonStyle="ButtonStyle.Dark" />
                                </RadzenStack>
                            </RadzenStack>
                        </RadzenCard>
                    }
                </RadzenColumn>
            }
        </RadzenRow>
    }
</div>